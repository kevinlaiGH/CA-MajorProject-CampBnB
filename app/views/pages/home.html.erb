<%= form_for root_path, method: :get do %>
<div class="row">
  <div class="col-md-6">
    <%= text_field_tag :search, params[:search], placeholder: "Where would you like to go?", class: "form-control"%>
  </div>
  <div class="col-md-3">
    <%= text_field_tag :start_date, params[:start_date], placeholder: "Start date", class: "form-control datepicker"%>
  </div>
  <div class="col-md-3">
    <%= text_field_tag :end_date, params[:end_date], placeholder: "End date", class: "form-control datepicker"%>
  </div>

</div>
<br/><br/>
<div class="row">
  <div class="col-md-offset-4 col-md-4">
    <%= submit_tag "Search", class: "btn btn-normal btn block" %>
  </div>
</div>
<% end %>

<br/><hr/><br/>

<!-- Home -->
<div><h3>Homes</h3></div>
<br/>

<div class="row">
  <% @accommodations.each do |accommodation| %>
  <div class="col-md-4">
    <div class="panel panel-default">
      <div class="panel-heading preview">
        <%= image_tag accommodation.cover_photo(:medium) %>
      </div>
      <div class="panel-body">
        <%= link_to accommodation.listing_name, accommodation %>
      </div>
    </div>
  </div>
  <% end %>
</div>

<!-- THIS IS A JQUERY UI -->

<script>
$('#start_date').datepicker({
  dateFormat: 'dd-mm-yy',
  minDate: 0,
  maxDate: '3m',
  onSelect: function(selected) {
    $('#end_date').datepicker("option", "minDate", selected);
    $('#end_date').attr("disabled", false);
  }
});

$('#end_date').datepicker({
  dateFormat: 'dd-mm-yy',
  minDate: 0,
  maxDate: '3m',
  onSelect: function(selected) {
    $('#start_date').datepicker("option", "maxDate", selected);

  }
});
</script>
